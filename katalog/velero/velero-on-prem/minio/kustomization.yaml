# Copyright (c) 2017-present SIGHUP s.r.l All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: kube-system

resources:
- rbac.yaml
- init-job.yaml
- service.yaml
- sts.yaml

patches:
- path: init-job-patch.yaml

images:
- name: minio/minio
  newName: registry.sighup.io/fury/minio
  newTag: RELEASE.2025-09-07T16-13-09Z
- name: minio/mc
  newName: registry.sighup.io/fury/minio/mc
  newTag: RELEASE.2025-08-13T08-35-41Z
- name: groundnuty/k8s-wait-for
  newName: registry.sighup.io/fury/groundnuty/k8s-wait-for
  newTag: v2.0

generatorOptions:
  disableNameSuffixHash: true

secretGenerator:
- name: minio-credentials
  envs:
  - cloud-credentials.env
- name: cloud-credentials
  files:
  - cloud=cloud-credentials.config
